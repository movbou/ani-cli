.TH "ANI-CLI" "1" "January 2025" "ani-cli" "User Commands"
.SH NAME
ani-cli \- watch anime from the commandline
.SH SYNOPSIS
.B ani-cli
[\fI\,OPTIONS\/\fR]
.SH DESCRIPTION
A shell script to browse and search anime from the command-line.
.PD 0
.P
.PD
This fork scrapes the site videa.hu for anime content from Witanime and Shahiid-anime sources.
.PD 0
.P
.PD
Video playback is handled via yt-dlp integration with your media player.
.PD 0
.P
.PD
\f[B]ani-cli\f[R] without options defaults to iina on macOS, flatpak mpv on Steamdeck, mpv apk on android, vlc on iOS and mpv media player everywhere else.
.SH OPTIONS
.TP
\fB\-e | --episode | -r | --range\fR \fI\,<episode>\/\fR
Specify the episode numbers to watch. If range is specified it should be quoted or separated by a non-numeric character (eg. -).
.TP
\fB\-c | --continue\fR
Continue watching anime from history.
.TP
\fB\-d | --download\fR
Download episode using yt-dlp.
.TP
\fB\-D | --delete\fR
Delete history.
.TP
\fB\-l | --logview\fR
Show logs.
.TP
\fB\-h | --help\fR
Show summary of options.
.TP
\fB\-q | --quality\fR \fI\,<best|worst|FORMAT>\/\fR
Set the video quality. Can be 'best', 'worst', or a yt-dlp format specifier. Default quality is best.
.TP
\fB\-s | --syncplay\fR
Watch anime together with friends, using Syncplay (works with mpv only).
.TP
\fB\-U | --update\fR
Fetch update from github.
.TP
\fB\-v | --vlc\fR
Use VLC as the media player.
.TP
\fB\-S | --select-nth\fR \fI\,<index>\/\fR
Selects nth entry.
.TP
\fB\--rofi\fR
Use rofi instead of fzf for the interactive menu
.TP
\fB\--no-detach\fR
Don't detach the player (useful for in-terminal playback, mpv only)
.TP
\fB\--exit-after-play\fR
Exit the player, and return the player exit code (useful for non interactive scenarios, mpv only)
.PP
.SH DEPENDENCIES
.PP
This fork requires yt-dlp to be installed for video extraction and playback.
.PP
.SH
ENVIRONMENT VARIABLES
.PP
ani-cli uses environment variables to control unstable/untested and niche features in addition to everything that has an option. Command-line options take precedence over env vars. Note that these are all subject to change.
.TP
\fBANI_CLI_DOWNLOAD_DIR\fR
Controls the directory where files are downloaded. Default is the current dir.
.TP
\fBANI_CLI_QUALITY\fR
Controls the video quality. Can be 'best', 'worst', or a yt-dlp format specifier. Default is best.
.TP
\fBANI_CLI_PLAYER\fR
Sets the player ani-cli uses. Can be debug (print links), download (equivalent to -d), android_mpv (apk and am start), android_vlc (apk and am start), flatpak_mpv (for flatpak), catt (for streaming to tv), or any player that can play urls. For defaults see working without arguments.
.TP
\fBANI_CLI_EXTERNAL_MENU\fR
Controls the frontend of ani-cli. Can be 0 (uses fzf) or 1 (uses rofi dmenu). Default is 0.
.TP
\fBANI_CLI_EXTERNAL_MENU_NORMAL_WINDOW\fR
Controls the way rofi displays the window. Can be 0 (no additional arguments passed to rofi) or 1 (the menu is displayed as a normal window, -normal-window argument is passed to rofi). Default is 0.
.TP
\fBANI_CLI_LOG_EPISODE\fR
Controls the logging feature for playback. Can be 1(logs) or 0(doesn't log). Default is 1.
.TP
\fBANI_CLI_MULTI_SELECTION\fR
Controls the multi flag for the chosen frontend. Default is -m for fzf and --multi-select for rofi dmenu.
.TP
\fBANI_CLI_HIST_DIR\fR
Controls the directory ani-cli uses for storing history. A /ani-cli subfolder is created there for the histfile if doesn't exists. Default is $XDG_STATE_HOME if set, $HOME/.local/state if not.
.TP
\fBANI_CLI_DEFAULT_SOURCE\fR
Controls the default source. Valid is history (equivalent to -c), everything else means search. Default is search.
.TP
\fBANI_CLI_NO_DETACH\fR
Controls if mpv is detached from the main process for playback, which can be useful for use with terminal renderers such as kitty. (works with mpv only). Can be 0 (disabled) or 1 (enabled). Default is 0.
.TP
\fBANI_CLI_VIDEA_PAGES\fR
Controls how many pages of search results to fetch from videa.hu. Each page contains approximately 20 results. Default is 3.
.PP
.SH EPISODE SELECTION
.PP
Multiple episodes can be chosen using fzf (or alternative frontend's) multi-selection mode. For this refer to their instructions.
.SH ANIME SOURCES
.PP
This fork searches two sources on videa.hu:
.TP
\fBWitanime\fR
Uses abbreviated anime names (e.g., "OP" for One Piece, "RK" for Rurouni Kenshin). The script automatically generates initials from your search query.
.TP
\fBShahiid-anime\fR
Uses full anime names. The script searches using your exact query.
.PP
Results from both sources are merged and deduplicated. Quality variants (FHD, HD, etc.) are automatically selected based on your -q preference.
.SH BUGS
.PP
Use the GitHub issue tracker:
https://github.com/pystardust/ani-cli/issues
.SH COPYRIGHT
.PP
ani-cli is licensed under the GNU General Public License v3.0
.PP
This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.
.PP
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.
.PP
You should have received a copy of the GNU General Public License
along with this program. If not, see <http://www.gnu.org/licenses/>.
